Here is a possible optimal plan to solve the problem:

1. Create a block at the depot.
2. Move from pos-1-0 to pos-1-1.
3. Move from pos-1-1 to pos-1-2.
4. Place block at pos-1-2 (height is now 1).
5. Move from pos-1-2 to pos-1-1.
6. Move from pos-1-1 to pos-1-0.
7. Repeat step 1 to 6 again, but the height at pos-1-2 is now 2.
8. Repeat step 1 to 6 again, but the height at pos-1-2 is now 3.
9. Create a block at the depot.
10. Move from pos-1-0 to pos-2-0.
11. Place the block at pos-2-0 (height is now 1).
12. Move from pos-2-0 to pos-1-0.
13. Repeat step 9 to 12 again, but the height at pos-2-0 is now 2.
14. Repeat step 9 to 12 again, but the height at pos-2-0 is now 3.
15. Create a block at the depot.
16. Move from pos-1-0 to pos-2-0.
17. Move from pos-2-0 to pos-3-0.
18. Place the block at pos-3-0 (height is now 1).
19. Move from pos-3-0 to pos-2-0.
20. Move from pos-2-0 to pos-1-0.
21. Repeat step 15 to 20 again, but the height at pos-3-0 is now 2.
22. Repeat step 15 to 20 again, but the height at pos-3-0 is now 3.

At the end of this plan, no unplaced block will be there, and blocks at pos-1-2, pos-2-0 and pos-3-0 will be of height 3, hence satisfying the problem constraints.